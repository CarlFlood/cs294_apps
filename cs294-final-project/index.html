<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Restaurants - Home</title>
  <link rel="icon" type="favicon" href="images/icon-192x192.png" />

  <!-- Material Design Imports -->
  <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
  <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <!-- Styles -->
  <link href="style/style.css" rel="stylesheet">
  <link href="style/map.css" rel="stylesheet">

  <!-- Dexie.JS Imports -->
  <script src="https://unpkg.com/dexie/dist/dexie.js"></script>

  <!-- Google Maps Imports / Scripts -->
  <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
  <script>
    const process = {env: {}};
    process.env.GOOGLE_MAPS_API_KEY =
      "AIzaSyCDVQ3UnrkvAXPmROTkI3hewNz_as_1o8c";
  </script>
  <script type="module" src="scripts/map.js"></script>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <link rel="apple-touch-icon" href="icon-72x72.png" />
  <link rel="apple-touch-icon" href="icon-192x192.png" />
  <link rel="apple-touch-icon" href="icon-256x256.png" />
  <link rel="apple-touch-icon" href="icon-384x384.png" />
  <link rel="apple-touch-icon" href="icon-512x512.png" />
  <meta name="apple-mobile-web-app-status-bar" content="#db4938" />
  <meta name="theme-color" content="#db4938" />
</head>

<body>
  <!-- Main App Bar -->
  <header class="mdc-top-app-bar">
    <div class="mdc-top-app-bar__row">
      <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
        <span class="mdc-top-app-bar__title">Restuarant Finder + Personal Reviewer</span>
      </section>
    </div>
  </header>

  <!-- Main Content -->
  <main class="mdc-top-app-bar--fixed-adjust">
    <!-- Geolocation Banner -->
    <div class="mdc-banner" role="banner">
      <div class="mdc-banner__content" role="alertdialog" aria-live="assertive">
        <div class="mdc-banner__graphic-text-wrapper">
          <div class="mdc-banner__text">
            You are being geolocated. Please wait...
          </div>
        </div>
      </div>
    </div>

    <!-- Begin Content -->
    <div id="map"></div>
    <!-- End Content -->
  </main>

  <!-- Script Imports -->
  <script src="serviceWorker.js"></script>
  <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCDVQ3UnrkvAXPmROTkI3hewNz_as_1o8c&callback=initMap&v=weekly&libraries=places"
    defer></script>
  <script>
    // Register PWA
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", function() {
        navigator.serviceWorker
          .register("./serviceWorker.js", {scope: '.'})
          .then(res => console.log("service worker registered"))
          .catch(err => console.log("service worker not registered", err))
      })
    }
  </script>
</body>

</html>